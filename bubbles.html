<html>

<head>
    <title>Condensation simulation</title>
    <script src="https://unpkg.com/konva@7.1.6/konva.min.js"></script>
    <meta charset="utf-8" />
    <style>
        body {
            padding: 20px;
            margin: 0;
            overflow: auto;
        }

        canvas {
            display: block;
        }
    </style>
</head>

<body>
    <script src="./three.js"></script>

    <h1>This is the great condensation simulation</h1>
    <p>Written by Nico Enghardt</p>
    <a href="./plane.html">2D - Darstellung</a>
    <p>Hier wird sp채ter noch eine dreidimensionale Darstellung eingef체gt, damit man ein besseres Gef체hl f체r das Volumen der Bubbles bekommen kann.</p>
    <div id="container"></div>
    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.set(0, 0, 20);
        camera.lookAt(0, 0, 0);

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const geometry = new THREE.BoxGeometry(3, 1, 1);
        const material = new THREE.MeshBasicMaterial({
            color: 0x005500,
        colorWrite: true
        });
        const linematerial = new THREE.LineBasicMaterial({ color: 0x888888 });
        const cube = new THREE.Mesh(geometry, material);


        const points = [];
        points.push(new THREE.Vector3(- 10, 0, 0));
        points.push(new THREE.Vector3(0, 10, 0));
        points.push(new THREE.Vector3(10, 0, 0));

        const linegeometry = new THREE.BufferGeometry().setFromPoints(points);

        const line = new THREE.Line(linegeometry, linematerial);

        scene.add(cube);
        scene.add(line);

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
            cube.rotation.x += 0.01;
            cube.rotation.y += 0.01;
            line.rotation.y += 0.02
        }
        animate();

        /*let size = 1000;

        var stage = new Konva.Stage({
            container: 'container',   // id of container <div>
            width: size,
            height: size,
        });

        var bubbles = new Konva.Layer();
        var text = new Konva.Layer();

        circles.forEach((circle) => {
            if (circle) {
                text.add(new Konva.Text({
                    x: size * circle.x - 20,
                    y: size * circle.y - 30,
                    text: circle.id,
                    fontSize: 5,
                    fontFamily: 'Calibri',
                    fill: 'white',
                }));
                bubbles.add(new Konva.Circle({
                    x: size * circle.x,
                    y: size * circle.y,
                    radius: size * circle.r,
                    fill: 'blue',
                    stroke: 'black',
                    strokeWidth: 1,
                    type: "Bubble"
                }))
            }
        });


        stage.add(bubbles);
        //stage.add(text);

        stage.draw();
        console.log();
*/
    </script>

</body>

</html>